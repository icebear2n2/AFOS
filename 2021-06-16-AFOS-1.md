---
title:  "[AWS] 2주차-1 컴퓨팅 서비스"
subtitle:   "컴퓨팅 서비스"
date: 2021-06-16 22:00:00
categories: AWS
tags: AFOS[2기]
---


## AWS 글로벌 인프라
* AWS는 전 세계에 분포되어 있는 데이터 센터에서 다양한 서비스를 제공하고 있는 클라우드 플랫폼
* 현재 AWS는 25개의 리전, 80개의 가용영역, 230개 이상의 POP을 운영 중
* 각각의 리전은 이중화된 100G 케이블 (해저 케이블)로 연결 됨, 암호화되어 전달
<br/>
<br/>

<!-- more -->

* 대륙별 국가별로 데이터 센터를 두는 이유는 운영 주체 구분/ 거리에 따른 지연/ 법적 규제 및 데이터 거버넌스/ 리전 내에서 사용 가능한 서비스/ 비용(리전 별로 다름) 등이 있다.
<br/>
<br/>

### Latency
* 패킷을 전송하는 곳에서 전달받는 곳까지 이동하는 데 걸리는 시간이다
* 1초 = 1000ms
* 레이턴시를 극복하기 위해 대륙별 지역 서버를 배치한다. (ex. 게임 서버) 
<br/>
<br/>
<br/>

## AWS 리전 & 가용영역 & Edge
### Region
* 지리적인 영역 내에서 격리 됨, 여러 개의 가용 영역(AZ)의 모음
* 리전은 최소 2개의 가용 영역으로 구성 (최대 6개의 가용 영역 구성)
<br/>
<br/>

### 가용 영역 (AZ, Availabilty Zone)
* 한 개 이상의 데이터 센터들의 모음
* 각 센터는 광통신 전용망으로 연결 됨
* 가용 영역과 인터넷 연결을 위한 이중화된 트랜짓 센터가 있음
<br/>

* 트랜짓 센터 : AWS 글로벌 백본 네트워크에 연결이 되고, 엣지 POP을 통해 CDN 등 서비스를 실행
* CDN (Contents Delivery Network) : 사용자에게 웹 콘텐츠를 효율적으로 제공할 수 있게 전 세계에 분산되어 있는 서버 네트워크
    * ex. `CloudFront, Global Accelerator`
<br/>

* AZ에서도 장애가 날 수 있다. 그러므로 **서비스 구성 시 여러 가용 영역에 분산하여 처리할 수 있도록 구성**을 권장
<br/>
<br/>
<br/>

## Edge
* 외부 인터넷과 AWS 글로벌 네트워크망과 연결하는 별도의 센터
* Edge는 `Edge Location`과 리전별 `Edge Cache`로 구성
* `CloudFront` 와 같은 CDN 서비스의 데이터 캐시 기능을 제공
<br/>
<br/>
<br/>

## EC2란 ? (Elastic Compute Cloud)
* **Amazon EC2** 는 AWS 클라우드에서 확장 가능 컴퓨팅 용량을 제공
* EC2를 사용하면 선투자 필요 X, 더 빠르게 애플리케이션 개발/배포
* 원하는 만큼의 가상서버 (=인스턴스, Instance)를 구축하고 보안 및 네트워크 구성과 스토리지 관리 가능
* EC2는 변동 사항에 따라 신속하게 규모를 확장/축소할 수 있어 서버 트래픽 예측 필요성이 줄어듬
<br/>

### EC2 제공 기능
* 인스턴스 : 가상 컴퓨팅 환경
* Amazon Machine Image (AMI) : 서버에 필요한 운영체제와 소프트웨어들이 구성된 상태로 제공되는 템플릿 (인스턴스 쉽게 제작 가능)
* 인스턴스 유형(Type) : 인스턴스를 위한 CPU, Memory, Storage, Networking 용량의 여러가지 구성 제공
* 키 페어를 사용하여 인스턴스 로그인 정보 보호 (AWS는 Public Key를 저장, 사용자는 Private Key를 안전한 장소에 보관하는 방식)
* Amazon Elastic Block Store(Amazon EBS) 볼륨을 사용해 영구 스토리지 볼륨에 데이터 저장
* 인스턴스와 Amzon EBS 볼륨 등의 리소스를 다른 물리적 장소에서 액세스 할 수 있는 리전 및 가용 영역
* 보안 그룹을 사용해 인스턴스에 연결할 수 있는 프로토콜, 포트, 소스 IP 범위를 지정하는 방화벽 기능
* 탄력적 IP 주소 (Elastic IP) : 동적 클라우드 컴퓨팅을 위한 고정 IPv4 주소
* 태그 : 사용자가 생성하여 Amazon EC2 리소스에 할당하여 구분하는 용도
* VPC (Virtual Private Clouds) : AWS에서 고객의 네트워크와 간편히 연결할 수 있는 가상 네트워크
<br/>
<br/>

### 인스턴스 유형 (Types)
* 인스턴스를 실행할 때 인스턴스 유형에 따라 인스턴스에 사용되는 호스트 컴퓨터의 하드웨어가 결정
* 각 인스턴스 유형은 다른 컴퓨팅, 메모리, 스토리지 용량을 제공 (이 용량애 따라 서로 다른 인스턴스 패밀리로 분류 됨)
<br/>
<br/>

### 인스턴스 구입 옵션
* 온디맨드 인스턴스 : 시작 후, 인스턴스에 대한 비용을 초 단위로 지불
* Saving Plans : 1년 or 3년 기간 동안 시간당 USD로 일관된 컴퓨팅 사용량을 약정하여 Amazon EC2 비용을 절감 가능
* 예약 인스턴스(RI) : 1년 or 3년 기간 동안 약정
* 스팟 인스턴스(Spot) : 미 사용 EC2 인스턴스를 요청 (EC2 비용 대폭 감소)
* 전용 호스트 : 인스턴스를 실행을 전담하는 실제 호스트 비용 지불, 기존의 소켓, 코어 또는 VM 소프트웨어 별 라이선스를 가져와 비용 절감
* 용량 예약 : 원하는 기간 동안 특정 가용 영역의 EC2 인스턴스에 대한 용량 예약
<br/>
<br/>

### AMI (Amazon Machine Image)
* 소프트웨어 구성이 기재된 템플릿 (ex. OS, 애플리케이션 서버, 애플리케이션)
* AMI에서 인스턴스 바로 실행 가능 (이 인스턴스는 AMI 사본으로, 클라우드에서 실행되는 가상 서버)
<br/>
<br/>

### 인스턴스 중지
* 정상적인 실행 종료 과정이 이루어지고 Stopped 상태가 됨
* 인스턴스의 모든 Amazon EBS 볼륨이 연결된 상태로 유지, 나중에 언제든지 시작 가능
* 중지되어 있는 상태 동안 추가 사용량에 대한 요금 부과 X (중지 -> 실행 : 최소 1분의 요금 부과)
* 인스턴스 유형 변경 가능 (요금 부과)
<br/>
<br/>

### 인스턴스 종료
* 인스턴스 삭제
* 루트 디바이스 볼륨은 삭제 됨 but, Amazon EBS 볼륨은 기본적으로 유지
* 인스턴스 종료를 비활성화 시키면 실수로 인스턴스를 종료하는 일을 방지 가능
<br/>
<br/>
<br/>

## EC2 Storage

### Amazon EBS (Elastic Block Store)
* 내구성이 있는 블록 수준 스토리지 볼륨을 제공
* 실행 중인 인스턴스에 연결하는 것이 가능
* 한 인스턴스에서 EBS 볼륨을 분리한 다음 다른 인스턴스에 연결하는 것도 가능
* 인스턴스에 연결된 볼륨의 구성을 동적으로 변경 가능
* EBS 암호화 기능을 사용하여 EBS 볼륨을 암호화된 볼륨으로 생성 가능
* EBS 볼륨의 스냅샷을 생성하여 Amazon S3에 저장하면 데이터의 백업 사본을 유지 가능
<br/>

* EBS Snapshot : 백업 기능, 증분식 백업이여서 마지막 스냅샷 이후 변경된 디바이스의 블록만이 저장 됨
<br/>
<br/>

## Amazon EC2 인스턴스 스토어 (Instance Storage)
* 호스트 컴퓨터에 물리적으로 연결된 디스크의 스토리지
* 인스턴스에서 블록 수준의 **임시 스토리지**를 제공
* 인스턴스 스토어에 저장된 데이터는 연관 인스턴스의 수명 기간 동안에만 유지 됨
* 해당 인스턴스를 중단하거나 최대 절전 모드로 전환하거나 종료하면 **인스턴스 스토어의 볼륨의 데이터가 손실** 됨
<br/>
<br/>

### Amazon EFS (Elastic File System)
* EC2에서 사용할 수 있는 **리눅스 환경**에 확장 가능한 파일 스토리지를 제공
* EFS 파일 시스템을 만든 후 파일 시스템을 마운트하도록 인스턴스를 구성 가능
* EBS는 단일 인스턴스에서만 연결 가능하지만, EFS는 **여러 인스턴스에서 연결 가능**
<br/>
<br/>

### Amazon S3 (Simple Storage Service)
* 저렴하고 신뢰성 있는 데이터 스토리지 인프라에 액세스 가능
* S3는 언제든지 EC2 내 또는 웹의 어디서나 원하는 데이터의 양을 저장하고, 가져올 수 있게 해주어서 웹 규모의 컴퓨팅 작업을 쉽게 수행할 수 있도록 설계 됨
* 데이터 및 애플리케이션의 백업 사본을 저장 가능
<br/>
<br/>
<br/>

## EBS 볼륨 유형 (SSD, HDD)

### SSD(Solid-State Drive)
* 주요 성능 특성이 IOPS인 작은 I/O 크기의 읽기/ 쓰기 작업을 자주 처리하는 트랜잭션 워크로드에 최적화 됨
* 범용 SSD : 가격과 성능 간의 균형을 제공, 대부분의 워크로드에 이 볼륨을 사용하는 것이 좋음
* 프로비저닝된 IOPS SSD : 지연 시간이 짧거나, 처리량이 많은 미션 크리티컬 워크로드에 적합한 고성능을 제공
<br/>
<br/>

### HDD (Hard Disk Drive)
* 주요 성능 특성이 처리량인 대규모 스트리밍 워크로드에 최적화되어 있음
* 처리량에 최적화된 HDD : 자주 액세스하는 처리량 집약적 워크로드에 적합한 저비용 HDD
* Cold HDD : 자주 액세스하지 않는 워크로드에 적합한 가장 저렴한 HDD
<br/>
<br/>

### 이전 세대
* 데이터를 자주 액세스하지 않고 성능이 중요하지 않은 소규모 데이터 세트가 있는 워크로드에 사용할 수 있는 하드 디스크 드라이브
* **이전 세대 사용은 비권장**
<br/>
<br/>
<br/>

## CloudWatch 모니터링
* Amaozon CloudWatch는 AWS 리소스와 AWS에서 실시간으로 실행 중인 애플리케이션을 모니터링
* 지표를 감시해 알림을 보내거나 임계값을 위반한 경우, 모니터링 중인 리소스를 자동으로 변경하는 경보를 생성 가능
<br/>
<br/>

<hr/>

**참고 자료 : AFOS[2기] 노션 내용**