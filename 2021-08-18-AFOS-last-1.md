---
title:  "[AWS] 10주차 -1 Wordpress 이중화 구성, 실습 환경 소개 & 실습 준비"
subtitle:   "AllInOne 인스턴스를 이용하여 CloudFront, ELB, S3(WP Offload Media Lite) 활용"
date: 2021-08-18 12:30:00
categories: AWS
tags: AFOS[2기]
---

## 실습 환경 소개

최종 구성

<img src="/css/images/AT12.png">
<br/>
<br/>

- CloudFront는 CDN 서비스와 기본 보안 기능(Anti-DDoS)을 제공한다
- S3는 Wordpress 의 Upload(이미지 등) 파일들을 저장하고 사용자에게 제공한다
- 그 외 나머지 구성은 9주차와 동일
- HA(고가용성) 구성으로 되어 있으며 일부 장애(AZ 장애, RDS 장애, Web EC2 장애 등)에 대응이 가능하다
- t2.micro(vCPU 1, Mem 1GiB) 는 WooCommerce 플러그인 설치 시 메모리 부족 등으로 설치 자체가 제대로 진행되지 않는다
따라서 설치가 가능한 최소 성능인 t3.medium(vCPU 2, Mem 4GiB)로 배포가 된다 1시간당 0.052 USD 비용이 부가된다


## 실습 기본 환경 배포

### CloudFormation 실습 기본 환경 배포

클릭
https://console.aws.amazon.com/cloudformation/home?region=ap-northeast-2#/stacks/new?stackName=WPHALab&templateURL=https:%2F%2Fs3.ap-northeast-2.amazonaws.com%2Fcloudformation.cloudneta.net%2FWordpress%2Faws-wp.yaml



### 2번 실습을 위한 RDS 배포
WebSrv-Leader 인스턴스를 이용하여 Wordpress 초기 구성 - RDS DB 생성은 미리 하기 -> 총 16분 정도 소요
RDS -> 데이터베이스 생성 클릭 -> 데이터베이스 생성 12분 정도 소요 -> 백업본생성에 4분 정도 소요

```
# 별로 언급이 없는 부분은 기본값 설정

생성 방식 : 표준 생성
엔진 옵션 : MySQL
템플릿 : 개발/테스트
DB 인스턴스 식별자 : wpdb (현재 AWS 리전에서 AWS 계정이 소유하는 모든 DB 인스턴스에 대해 유일, 각자 편하게 설정)
마스터 사용자 이름 : root
마스터 암호(암호확인) : qwe12345
DB 인스턴스 클래스 : 버스터블 클래스(t 클래스 포함) db.t2.micro (이전 세대 클래스 포함)
다중 AZ 배포 : 대기 인스턴스 생성 
VPC : WP-VPC1
퍼블릭 액세스 가능 : 아니요
VPC 보안 그룹 : ##-VPC1SG3-## 포함된것 선택 , 기본 default 는 제거
추가 구성 : 클릭
- 초기 데이터베이스 이름 : wordpressdb
- DB 파라미터 그룹 : ##-mydbparametergroup-## 포함된것 선택 
- 백업 보존 기간 : 1일
- Enhanced 모니터링 활성화 (Uncheck)
```

<br/>
<br/>
<br/>

<hr/>

**참고 자료: AFOS[2기] 노션 내용**