---
title:  "[AWS] 8주차-1 EC2 Auto Scaling"
subtitle:   "EC2 Auto Scaling"
date: 2021-07-28 22:00:00
categories: AWS
tags: AFOS[2기]
---

## AWS EC2 Auto Scaling 소개

EC2 Auto Scailng을 통해 애플리케이션의 로드를 처리할 수 있게 동적으로 EC2 인스턴스를 유지하도록 보장할 수 있다.

**Auto Scaling 그룹**이라는 EC2 인스턴스 모음을 생성한다.

각 Auto Scaling 그룹의 최소 인스턴스 수를 지정할 수 있으며, Amazon EC2 Auto Scaling에서는 **그룹의 크기가 이 값 아래로 내려가지 않는다.**
각 Auto Scaling 그룹의 최소 인스턴스 수를 지정할 수 있으며, Amazon EC2 Auto Scaling에서는 **그룹의 크기가 이 값을 넘지 않는다.**

원하는 용량을 지정한 경우 그룹을 생성한 다음에는 언제든지 Amazon EC2 Auto Scaling에서 해당 그룹에서 이만큼의 인스턴스를 보유할 수 있다.
조정 정책을 지정했다면 Amazon EC2 Auto Scaling에서는 애플리케이션의 늘어나거나 줄어드는 수요에 따라 인스턴스를 시작하거나 종료할 수 았다.

 <img src="/css/images/as-group.png">

 ## 구성요소

### Group
EC2 인스턴스는 조정 및 관리 목적의 논리 단위로 취급될 수 있도록 그룹으로 구성된다

<img src="/css/images/group-graphic.png">

### 구성 템플릿
그룹은 EC2 인스턴스에 대한 구성 템플릿으로 시작 템플릿(모든 기능 제공) 또는 시작 구성(권장X, 더 적은 기능 제공)을 사용한다

**시작 템플릿: Launch Template
시작 구성: Launch Configuration**

<img src="/css/images/launch.png">

### 조정 옵션
EC2 Auto Scaling은 Auto Scaling 그룹을 조정하는 다양한 방법을 제공한다.
ex. 지정한 조건의 발생(동적 확장) 또는 일정에 따라 조정하도록 그룹을 구성할 수 있다.

<img src="/css/images/scaling.png">

### 장점
가변 수요 허용

가용성과 내결함성 향상

## 인스턴스 수명 주기
Auto Scaling 그룹이 인스턴스를 시작하고 서비스에 들어갈 때 시작된다
수명 주기는 인스턴스를 종료하거나 Auto Scaling 그룹이 인스턴스 서비스에서 제외시키고 이를 종료할 때 끝난다.

## 조정 정책(Scaling Policy)

### 대상 추적 조정
특정 지표의 목표 값을 기준으로 그룹의 현재 용량을 **알아서** 늘리거나 줄인다

### 단계 조정
그룹의 현재 용량을 **일련의 조정 조절**에 따라 늘리거나 줄이며 경보 위반의 크기에 따라 달라지는 단계 조정이라고 한다

### 단순 조정
그룹의 현재 용량을 **단일 조정 조절**에 따라 늘리거나 줄인다.

->
Auto Scaling 그룹의 인스턴스 수에 비례하여 증가하거나 감소하는 사용률 수치를 기준으로 조정하는 경우, **대상 추적 조정 정책**을 사용하는 것이 좋다

그렇지 않은 경우, **단계 조정 정책**을 사용하는 것이 좋다.

<br/>
<br/>
<br/>

<hr/>

**참고 자료 : AFOS[2기] 노션 내용**
**사진 출처: AFOS[2기] 노션 내용, https://docs.aws.amazon.com/ko_kr/autoscaling/ec2/userguide/what-is-amazon-ec2-auto-scaling.html**

