---
title:  "[AWS] 1주차-2 EC2(가상 서버) 배포 및 사용 - 실습"
subtitle:   "EC2(가상 서버) 배포 및 사용 - 실습"
date: 2021-06-09 23:00:00
categories: AWS
tags: AFOS[2기]
---

1. `서울 리전`으로 변경
<br/>

![seoul](https://user-images.githubusercontent.com/76810787/121358295-7666d100-c96d-11eb-815b-3b9d8a35504e.png)
<br/>
<br/>
<br/>

2. `SSH 키 페어` 생성
<br/>

* EC2 접속
<br/>

![EC2](https://user-images.githubusercontent.com/76810787/121359000-0442bc00-c96e-11eb-9b32-88ed3c36e10a.png)
<br/>

* '네트워크 보안'에서 `키 페어` 클릭
<br/>

![key](https://user-images.githubusercontent.com/76810787/121359011-073dac80-c96e-11eb-83b9-b8327e6a942c.png)
<br/>

* `키 페어 생성` 클릭
<br/>

![스크린샷 2021-06-09 오후 10 01 25](https://user-images.githubusercontent.com/76810787/121359479-7f0bd700-c96e-11eb-88d0-25e84945dbcc.png)
<br/>

* 이름을 정하고, 원격 프로그램을 사용할 것이 아니니 `pem` 체크 (기본갑) 후에 `키 페어 생성` 클릭
<br/>

![스크린샷 2021-06-09 오후 10 01 51](https://user-images.githubusercontent.com/76810787/121359483-7fa46d80-c96e-11eb-8a77-aef5fd9a65e5.png)
<br/>

* 키는 파일로 저장해둡시다 ! 저장 클릭
<br/>

![스크린샷 2021-06-09 오후 10 02 14](https://user-images.githubusercontent.com/76810787/121359486-803d0400-c96e-11eb-8674-56b73f3da6e0.png)
<br/>

* 키 페어 생성 완료 !
<br/>

![스크린샷 2021-06-09 오후 10 02 36](https://user-images.githubusercontent.com/76810787/121359489-803d0400-c96e-11eb-9c3e-f6f88afeb7ab.png)
<br/>
<br/>
<br/>

3. 인스턴스 생성
* `EC2 대시보드` 클릭 후에 `인스턴스(실행 중)` 클릭
<br/>

![스크린샷 2021-06-09 오후 10 11 29](https://user-images.githubusercontent.com/76810787/121360877-c0e94d00-c96f-11eb-800d-75c019b55f29.png)
<br/>

* `인스턴스 시작` 클릭
<br/>

![스크린샷 2021-06-09 오후 10 08 04](https://user-images.githubusercontent.com/76810787/121360839-baf36c00-c96f-11eb-9f3e-d23b6d85a3e6.png)
<br/>

* 인스턴스 시작하는데 필요한 소프트웨어 구성이 포함된 템플릿, AMI (Amazon Machine Image)
* 제일 첫번째인 `리눅스 2` 선택  
<br/>

![스크린샷 2021-06-09 오후 10 08 25](https://user-images.githubusercontent.com/76810787/121360844-bc249900-c96f-11eb-906a-f14f7835be20.png)
<br/>

* 인스턴스 유형에서 원하는 메모리, CPU 선택할 수 있음
* 기본 값으로 설정해서 가장 밑 오른쪽에 있는 `다음 세부구성` 클릭 ! (프리티어가 적히지 않은 유형은 돈이 나간다 ..ㅠ)
* 사진 상 안 보이지만 가장 밑 가운데 파란색 버튼 누르면 바로 인스턴스가 생성되니 조심 !
<br/>

![스크린샷 2021-06-09 오후 10 08 41](https://user-images.githubusercontent.com/76810787/121360847-bcbd2f80-c96f-11eb-9344-1ef6ac5a50f2.png)
<br/>

* GB 와 GiB의 차이 <hhttps://ko.wikipedia.org/wiki/%EA%B8%B0%EB%B9%84%EB%B0%94%EC%9D%B4%ED%8A%B8>
<br/>

* 인스턴스 세부 정보 구성에서 퍼블릭 IP를 할당해야 인스턴스에 접속이 가능
* 기본 값으로 설정하고 넘어가자
<br/>

![스크린샷 2021-06-09 오후 10 08 54](https://user-images.githubusercontent.com/76810787/121360852-bdee5c80-c96f-11eb-8cfc-96584218211a.png)
<br/>

* 스토리지는 말 그대로 저장할 수 있는 공간
* 스토리지도 기본 값으로 설정 !
<br/>

![스크린샷 2021-06-09 오후 10 09 04](https://user-images.githubusercontent.com/76810787/121360855-bf1f8980-c96f-11eb-8e8d-5d57f1a6a40d.png)
<br/>

* 태그는 구분하는 용도로 사용
* 키는 `Name` , 값은 `이름`으로 해준다 (마음대로 설정 가능)
<br/>

![스크린샷 2021-06-09 오후 10 09 22](https://user-images.githubusercontent.com/76810787/121360863-bf1f8980-c96f-11eb-80f8-91e51b6e7667.png)
<br/>

* 보안 그룹 - 트래픽 제어하는 방화벽 세트, 허용 규칙 추가 가능
* 보안 그룹도 기본 값으로 설정 !
<br/>

![스크린샷 2021-06-09 오후 10 09 34](https://user-images.githubusercontent.com/76810787/121360867-bfb82000-c96f-11eb-81c4-def20bef3a4c.png)

* TCP 22 포트는 어떤 의미인가 ?
* SSH 사용하는 포트 번호
* 각 포트 별로 어떤 서비스로 전달할지 식별 가능
<br/>

* `시작하기` 클릭
<br/>

![스크린샷 2021-06-09 오후 10 09 42](https://user-images.githubusercontent.com/76810787/121360868-bfb82000-c96f-11eb-82bb-1b61b9b3b1ec.png)
<br/>

* 체크 박스에 `체크` 한 후에 인스턴스 시작 클릭 !
<br/>

![스크린샷 2021-06-09 오후 10 09 58](https://user-images.githubusercontent.com/76810787/121360871-c050b680-c96f-11eb-991c-0ac15b52e7c6.png)
<br/>

* 인스턴스 생성 완료 !
<br/>

![스크린샷 2021-06-09 오후 10 10 22](https://user-images.githubusercontent.com/76810787/121360876-c0e94d00-c96f-11eb-9eaa-abf3d030d7b2.png)
<br/>
<br/>
<br/>

4. EC2에 웹 서비스 설치
<br/>

* 연결을 누르면 인스턴스에 연결할 수 있음, 연결을 누르자 (사용자 이름 변경 절대 금지 !!!, 그럼 실행 안 됨)
![스크린샷 2021-06-09 오후 10 44 03](https://user-images.githubusercontent.com/76810787/121366218-45d66580-c974-11eb-8dad-81540768d29c.png)
<br/>

* EC2 접속 성공 !
<br/>

![스크린샷 2021-06-09 오후 10 44 17](https://user-images.githubusercontent.com/76810787/121366232-4838bf80-c974-11eb-9225-574b7c8995fc.png)
<br/>

* 아래 명령어를 순서대로 친다
<br/>

```
# 관리자 권한으로 변경
[ec2-user@ip-172-31-46-115 ~]$ sudo su -

# 웹 서비스 설치
[root@ip-172-31-46-115 ~]# yum install httpd -y

# 웹 서비스 시작
[root@ip-172-31-46-115 ~]# systemctl start httpd

# 웹 페이지 구성
# 기본 웹페이지 디렉터리는 /var/www/html
[root@ip-172-31-46-115 ~]# echo "<h1>Test Web Server</h1>" > /var/www/html/ index.html

# 웹 페이지 파일 생성 확인
[root@ip-172-31-46-115 ~]# ls /var/www/html/

# 웹페이지 접속 확인
[root@ip-172-31-46-115 ~]# curl localhost
```
<br/>

* 다시 인스턴스 연결 페이지로 가서 퍼블릭 주소를 복사 후 들어가면, 웹 접속이 안 될 것이다
<br/>

![스크린샷 2021-06-09 오후 11 00 02](https://user-images.githubusercontent.com/76810787/121370671-df534680-c977-11eb-85ec-09d69016acc6.png)
<br/>

* 보안그룹에 가서 인바운드 규칙에 `HTTP`를 허용해줘야 웹 사이트 접속이 된다. 허용해주자
* 인바운드 규칙 편집 클릭
<br/>

![스크린샷 2021-06-09 오후 11 09 14](https://user-images.githubusercontent.com/76810787/121370675-e0847380-c977-11eb-86c7-0cf6b05d3a8d.png)
<br/>

* HTTP를 추가해준다
<br/>

![스크린샷 2021-06-09 오후 11 09 40](https://user-images.githubusercontent.com/76810787/121370681-e1b5a080-c977-11eb-9b65-24e67d80ac3c.png)
<br/>

* 그럼 접속 성공 !!
<br/>

![스크린샷 2021-06-09 오후 11 12 53](https://user-images.githubusercontent.com/76810787/121371104-3f49ed00-c978-11eb-9046-977ea8fe66d9.png)

## 실습이 끝난 후에 EC2 종료 꼭 하기
<br/>
<br/>
<br/>

<hr/>

**참고 자료 : AFOS[2기] 노션 내용**